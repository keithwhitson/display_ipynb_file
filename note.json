{
  "paragraphs": [
    {
      "text": "%md ## The purpose of this project is to see which algorithm best predicts the Weekly Sales Number",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:05.427",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eThe purpose of this project is to see which algorithm best predicts the Weekly Sales Number\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487216946_-654748983",
      "id": "20190405-180016_1290384519",
      "dateCreated": "2019-04-05 18:00:16.946",
      "dateStarted": "2019-04-05 18:23:05.458",
      "dateFinished": "2019-04-05 18:23:05.461",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Adds the necessary libraries to the notebook",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:05.558",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eAdds the necessary libraries to the notebook\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554485935537_585404055",
      "id": "20190405-173855_918815476",
      "dateCreated": "2019-04-05 17:38:55.537",
      "dateStarted": "2019-04-05 18:23:05.588",
      "dateFinished": "2019-04-05 18:23:05.591",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nimport pandas as pd",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:05.688",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554484420386_1592482922",
      "id": "20190405-171340_447369773",
      "dateCreated": "2019-04-05 17:13:40.386",
      "dateStarted": "2019-04-05 18:23:05.719",
      "dateFinished": "2019-04-05 18:23:05.722",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### This loads the data from Hadoop",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:05.818",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThis loads the data from Hadoop\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484224300_1786304928",
      "id": "20190405-171024_1765350743",
      "dateCreated": "2019-04-05 17:10:24.300",
      "dateStarted": "2019-04-05 18:23:05.849",
      "dateFinished": "2019-04-05 18:23:05.852",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales \u003d spark.read.csv(\"/home/kwhitson/travel_man_data/predict_sales.csv\", inferSchema\u003dTrue, header\u003dTrue)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:05.948",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python",
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d152",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d153"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554471886327_773857734",
      "id": "20190405-134446_715375661",
      "dateCreated": "2019-04-05 13:44:46.327",
      "dateStarted": "2019-04-05 18:23:05.978",
      "dateFinished": "2019-04-05 18:23:07.196",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Here we take a glance at the schema of the data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:07.279",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eHere we take a glance at the schema of the data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484244335_-1243103961",
      "id": "20190405-171044_872319970",
      "dateCreated": "2019-04-05 17:10:44.335",
      "dateStarted": "2019-04-05 18:23:07.308",
      "dateFinished": "2019-04-05 18:23:07.311",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales.printSchema()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:07.408",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python",
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "root\n |-- Store: integer (nullable \u003d true)\n |-- Dept: integer (nullable \u003d true)\n |-- Date: timestamp (nullable \u003d true)\n |-- Weekly_Sales: double (nullable \u003d true)\n |-- IsHoliday: boolean (nullable \u003d true)\n\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554472247851_-555226227",
      "id": "20190405-135047_2053864996",
      "dateCreated": "2019-04-05 13:50:47.851",
      "dateStarted": "2019-04-05 18:23:07.440",
      "dateFinished": "2019-04-05 18:23:07.445",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Convert the DataFrame to a pandas DataFrame to use familiar functions",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:07.540",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eConvert the DataFrame to a pandas DataFrame to use familiar functions\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484548929_1281948175",
      "id": "20190405-171548_1780767548",
      "dateCreated": "2019-04-05 17:15:48.929",
      "dateStarted": "2019-04-05 18:23:07.570",
      "dateFinished": "2019-04-05 18:23:07.580",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales_pandas_DF \u003d predict_sales.toPandas()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:23:07.669",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d154"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554484377681_1762665093",
      "id": "20190405-171257_279204610",
      "dateCreated": "2019-04-05 17:12:57.681",
      "dateStarted": "2019-04-05 18:23:07.703",
      "dateFinished": "2019-04-05 18:24:05.384",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### A simple analysis of the data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:05.438",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eA simple analysis of the data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484799914_-683695820",
      "id": "20190405-171959_665947627",
      "dateCreated": "2019-04-05 17:19:59.914",
      "dateStarted": "2019-04-05 18:24:05.469",
      "dateFinished": "2019-04-05 18:24:05.471",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales_pandas_DF.describe()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:05.568",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "               Store           Dept   Weekly_Sales\ncount  421570.000000  421570.000000  421570.000000\nmean       22.200546      44.260317   15981.258123\nstd        12.785297      30.492054   22711.183519\nmin         1.000000       1.000000   -4988.940000\n25%        11.000000      18.000000    2079.650000\n50%        22.000000      37.000000    7612.030000\n75%        33.000000      74.000000   20205.852500\nmax        45.000000      99.000000  693099.360000\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484703235_1276502479",
      "id": "20190405-171823_1748332155",
      "dateCreated": "2019-04-05 17:18:23.235",
      "dateStarted": "2019-04-05 18:24:05.601",
      "dateFinished": "2019-04-05 18:24:05.657",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### A correlation of the data to see which elements help determine the Weekly Sales Number",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:05.701",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eA correlation of the data to see which elements help determine the Weekly Sales Number\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484857737_-279766328",
      "id": "20190405-172057_466759648",
      "dateCreated": "2019-04-05 17:20:57.737",
      "dateStarted": "2019-04-05 18:24:05.731",
      "dateFinished": "2019-04-05 18:24:05.734",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales_pandas_DF.corr()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:05.831",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "                 Store      Dept  Weekly_Sales  IsHoliday\nStore         1.000000  0.024004     -0.085195  -0.000548\nDept          0.024004  1.000000      0.148032   0.000916\nWeekly_Sales -0.085195  0.148032      1.000000   0.012774\nIsHoliday    -0.000548  0.000916      0.012774   1.000000\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484598251_804150419",
      "id": "20190405-171638_1402380532",
      "dateCreated": "2019-04-05 17:16:38.251",
      "dateStarted": "2019-04-05 18:24:05.865",
      "dateFinished": "2019-04-05 18:24:05.952",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ##### Dept and Store seem to be the two that correlate the most with Weekly Sales - the number we are trying to predict",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:05.964",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch5\u003eDept and Store seem to be the two that correlate the most with Weekly Sales - the number we are trying to predict\u003c/h5\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484907378_-1277354811",
      "id": "20190405-172147_456945297",
      "dateCreated": "2019-04-05 17:21:47.378",
      "dateStarted": "2019-04-05 18:24:06.014",
      "dateFinished": "2019-04-05 18:24:06.018",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### A description of the types of data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:06.114",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eA description of the types of data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554484280082_-416817325",
      "id": "20190405-171120_995319447",
      "dateCreated": "2019-04-05 17:11:20.082",
      "dateStarted": "2019-04-05 18:24:06.144",
      "dateFinished": "2019-04-05 18:24:06.146",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales.describe()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:06.243",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "DataFrame[summary: string, Store: string, Dept: string, Weekly_Sales: string]\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d155"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554472268611_709407330",
      "id": "20190405-135108_697359830",
      "dateCreated": "2019-04-05 13:51:08.611",
      "dateStarted": "2019-04-05 18:24:06.274",
      "dateFinished": "2019-04-05 18:24:06.641",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md #### In Zeppelin on Spark, the best way to easily visualize the data is to put it into a temporary table to use the built-in visualization features.",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:06.674",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch4\u003eIn Zeppelin on Spark, the best way to easily visualize the data is to put it into a temporary table to use the built-in visualization features.\u003c/h4\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554485000756_-1277616159",
      "id": "20190405-172320_1855336693",
      "dateCreated": "2019-04-05 17:23:20.756",
      "dateStarted": "2019-04-05 18:24:06.703",
      "dateFinished": "2019-04-05 18:24:06.706",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark predict_sales.createOrReplaceTempView(\"predict_sales\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:06.803",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554472025930_588515884",
      "id": "20190405-134705_2032601191",
      "dateCreated": "2019-04-05 13:47:05.930",
      "dateStarted": "2019-04-05 18:24:06.834",
      "dateFinished": "2019-04-05 18:24:06.843",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Using the table created in the previous step",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:06.934",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eUsing the table created in the previous step\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554485099391_1279692728",
      "id": "20190405-172459_430972690",
      "dateCreated": "2019-04-05 17:24:59.391",
      "dateStarted": "2019-04-05 18:24:06.964",
      "dateFinished": "2019-04-05 18:24:06.967",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql SELECT Store, Dept, Date, Weekly_Sales, IsHoliday FROM predict_sales LIMIT 5\n",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.064",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "Store": "string",
                      "Dept": "string",
                      "Date": "string",
                      "Weekly_Sales": "string",
                      "IsHoliday": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "scatterChart": {
                  "xAxis": {
                    "name": "Dept",
                    "index": 1.0,
                    "aggr": "sum"
                  },
                  "yAxis": {
                    "name": "label",
                    "index": 3.0,
                    "aggr": "sum"
                  }
                }
              },
              "keys": [
                {
                  "name": "Store",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "Dept",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "label",
                  "index": 3.0,
                  "aggr": "sum"
                }
              ],
              "commonSetting": {}
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Store\tDept\tDate\tWeekly_Sales\tIsHoliday\n1\t1\t2010-02-05 00:00:00.0\t24924.5\tfalse\n1\t1\t2010-02-12 00:00:00.0\t46039.49\ttrue\n1\t1\t2010-02-19 00:00:00.0\t41595.55\tfalse\n1\t1\t2010-02-26 00:00:00.0\t19403.54\tfalse\n1\t1\t2010-03-05 00:00:00.0\t21827.9\tfalse\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d156"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554472102767_-1122288568",
      "id": "20190405-134822_1699404961",
      "dateCreated": "2019-04-05 13:48:22.767",
      "dateStarted": "2019-04-05 18:24:07.097",
      "dateFinished": "2019-04-05 18:24:07.138",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Extracted the Month, Year and Day from the given sales data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.194",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eExtracted the Month, Year and Day from the given sales data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554486464182_1874407688",
      "id": "20190405-174744_610563943",
      "dateCreated": "2019-04-05 17:47:44.182",
      "dateStarted": "2019-04-05 18:24:07.224",
      "dateFinished": "2019-04-05 18:24:07.227",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql SELECT Store, Dept, Date, Weekly_Sales label, IsHoliday, Month(Date) Month,  Year(Date) Year, Day(Date) Day FROM predict_sales LIMIT 5",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.324",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "Store": "string",
                      "Dept": "string",
                      "Date": "string",
                      "label": "string",
                      "IsHoliday": "string",
                      "Month": "string",
                      "Year": "string",
                      "Day": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Store\tDept\tDate\tlabel\tIsHoliday\tMonth\tYear\tDay\n1\t1\t2010-02-05 00:00:00.0\t24924.5\tfalse\t2\t2010\t5\n1\t1\t2010-02-12 00:00:00.0\t46039.49\ttrue\t2\t2010\t12\n1\t1\t2010-02-19 00:00:00.0\t41595.55\tfalse\t2\t2010\t19\n1\t1\t2010-02-26 00:00:00.0\t19403.54\tfalse\t2\t2010\t26\n1\t1\t2010-03-05 00:00:00.0\t21827.9\tfalse\t3\t2010\t5\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d157"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554482460015_204455672",
      "id": "20190405-164100_828763655",
      "dateCreated": "2019-04-05 16:41:00.015",
      "dateStarted": "2019-04-05 18:24:07.356",
      "dateFinished": "2019-04-05 18:24:07.407",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Turning the new data into a new DataFrame for analysis",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.456",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eTurning the new data into a new DataFrame for analysis\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554486496057_-177188175",
      "id": "20190405-174816_194646466",
      "dateCreated": "2019-04-05 17:48:16.057",
      "dateStarted": "2019-04-05 18:24:07.487",
      "dateFinished": "2019-04-05 18:24:07.489",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales \u003d sqlContext.sql(\"SELECT Store, Dept, Date, Weekly_Sales label, IsHoliday, Month(Date) Month,  Year(Date) Year, Day(Date) Day FROM predict_sales\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.587",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554482613833_2000729385",
      "id": "20190405-164333_523236416",
      "dateCreated": "2019-04-05 16:43:33.833",
      "dateStarted": "2019-04-05 18:24:07.619",
      "dateFinished": "2019-04-05 18:24:07.627",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Casts the Holiday field to a string to be able to work with it easier\n### Beneath that the schema of the data is included",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.719",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCasts the Holiday field to a string to be able to work with it easier\u003c/h3\u003e\n\u003ch3\u003eBeneath that the schema of the data is included\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554486535024_811355504",
      "id": "20190405-174855_2135618657",
      "dateCreated": "2019-04-05 17:48:55.024",
      "dateStarted": "2019-04-05 18:24:07.749",
      "dateFinished": "2019-04-05 18:24:07.752",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.sql.functions import col , column\npredict_sales \u003d predict_sales.withColumn(\"IsHoliday_String\", col(\"IsHoliday\").cast(\"string\"))\npredict_sales.printSchema()\n",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.849",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "root\n |-- Store: integer (nullable \u003d true)\n |-- Dept: integer (nullable \u003d true)\n |-- Date: timestamp (nullable \u003d true)\n |-- label: double (nullable \u003d true)\n |-- IsHoliday: boolean (nullable \u003d true)\n |-- Month: integer (nullable \u003d true)\n |-- Year: integer (nullable \u003d true)\n |-- Day: integer (nullable \u003d true)\n |-- IsHoliday_String: string (nullable \u003d true)\n\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554472151411_-968116453",
      "id": "20190405-134911_1557125380",
      "dateCreated": "2019-04-05 13:49:11.411",
      "dateStarted": "2019-04-05 18:24:07.886",
      "dateFinished": "2019-04-05 18:24:07.899",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### The data is put into a table to allow easier analysis",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:07.986",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThe data is put into a table to allow easier analysis\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554486658355_-1366135061",
      "id": "20190405-175058_1927493965",
      "dateCreated": "2019-04-05 17:50:58.355",
      "dateStarted": "2019-04-05 18:24:08.017",
      "dateFinished": "2019-04-05 18:24:08.020",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark predict_sales.createOrReplaceTempView(\"predict_sales\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.116",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554472451555_-1779788909",
      "id": "20190405-135411_1618034877",
      "dateCreated": "2019-04-05 13:54:11.555",
      "dateStarted": "2019-04-05 18:24:08.148",
      "dateFinished": "2019-04-05 18:24:08.158",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql SELECT * FROM predict_sales LIMIT 5",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.248",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "Store": "string",
                      "Dept": "string",
                      "Date": "string",
                      "label": "string",
                      "IsHoliday": "string",
                      "Month": "string",
                      "Year": "string",
                      "Day": "string",
                      "IsHoliday_String": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Store\tDept\tDate\tlabel\tIsHoliday\tMonth\tYear\tDay\tIsHoliday_String\n1\t1\t2010-02-05 00:00:00.0\t24924.5\tfalse\t2\t2010\t5\tfalse\n1\t1\t2010-02-12 00:00:00.0\t46039.49\ttrue\t2\t2010\t12\ttrue\n1\t1\t2010-02-19 00:00:00.0\t41595.55\tfalse\t2\t2010\t19\tfalse\n1\t1\t2010-02-26 00:00:00.0\t19403.54\tfalse\t2\t2010\t26\tfalse\n1\t1\t2010-03-05 00:00:00.0\t21827.9\tfalse\t3\t2010\t5\tfalse\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d158"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554472583358_-1295438282",
      "id": "20190405-135623_393602610",
      "dateCreated": "2019-04-05 13:56:23.358",
      "dateStarted": "2019-04-05 18:24:08.279",
      "dateFinished": "2019-04-05 18:24:08.335",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### The String Indexer turns a field into an index of the unique words\n### The Vector Assembler turns the non-label fields into a feature vector for applying the algorithm \n### The pipeline strings everything together so that you can apply the functions to the data in order",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.378",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThe String Indexer turns a field into an index of the unique words\u003c/h3\u003e\n\u003ch3\u003eThe Vector Assembler turns the non-label fields into a feature vector for applying the algorithm\u003c/h3\u003e\n\u003ch3\u003eThe pipeline strings everything together so that you can apply the functions to the data in order\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554486706783_-1638742432",
      "id": "20190405-175146_757088223",
      "dateCreated": "2019-04-05 17:51:46.783",
      "dateStarted": "2019-04-05 18:24:08.408",
      "dateFinished": "2019-04-05 18:24:08.412",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\n# Add the pipeline and tokenizer \nfrom pyspark.ml.feature import VectorAssembler, StringIndexer\nfrom pyspark.ml import Pipeline",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.508",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554472599020_-823372772",
      "id": "20190405-135639_827377909",
      "dateCreated": "2019-04-05 13:56:39.020",
      "dateStarted": "2019-04-05 18:24:08.539",
      "dateFinished": "2019-04-05 18:24:08.543",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Index the Holiday String to turn it into an index vector",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.639",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eIndex the Holiday String to turn it into an index vector\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487015938_122203029",
      "id": "20190405-175655_921066556",
      "dateCreated": "2019-04-05 17:56:55.938",
      "dateStarted": "2019-04-05 18:24:08.669",
      "dateFinished": "2019-04-05 18:24:08.671",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nIsHoliday_stringIdx \u003d StringIndexer(inputCol\u003d\"IsHoliday_String\", outputCol\u003d\"IsHoliday_Stringh_indexed\").setHandleInvalid(\"skip\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.769",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554481244201_-1673759289",
      "id": "20190405-162044_920989693",
      "dateCreated": "2019-04-05 16:20:44.201",
      "dateStarted": "2019-04-05 18:24:08.798",
      "dateFinished": "2019-04-05 18:24:08.810",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Create the features vector for applying the algorithm to later",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:08.898",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCreate the features vector for applying the algorithm to later\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487087037_-1954806796",
      "id": "20190405-175807_679527615",
      "dateCreated": "2019-04-05 17:58:07.037",
      "dateStarted": "2019-04-05 18:24:08.928",
      "dateFinished": "2019-04-05 18:24:08.930",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nvector_assembler \u003d VectorAssembler(inputCols\u003d[\"IsHoliday_Stringh_indexed\",\"Store\",\"Dept\",\"Month\",\"Year\",\"Day\"], outputCol\u003d\"features\").setHandleInvalid(\"skip\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:09.028",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554481335983_-1162176355",
      "id": "20190405-162215_898927728",
      "dateCreated": "2019-04-05 16:22:15.983",
      "dateStarted": "2019-04-05 18:24:09.057",
      "dateFinished": "2019-04-05 18:24:09.068",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Looking at a correlation table to see which variables can be the most helpful in predicting the weekly sales.",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:09.157",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eLooking at a correlation table to see which variables can be the most helpful in predicting the weekly sales.\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487163315_144198110",
      "id": "20190405-175923_1927919065",
      "dateCreated": "2019-04-05 17:59:23.315",
      "dateStarted": "2019-04-05 18:24:09.187",
      "dateFinished": "2019-04-05 18:24:09.190",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredict_sales_pandas_DF \u003d predict_sales.toPandas()\npredict_sales_corr \u003d predict_sales_pandas_DF.corr()\npredict_sales_corr_DF \u003d spark.createDataFrame(predict_sales_corr)\npredict_sales_corr_DF.createOrReplaceTempView(\"predict_sales_corr\")\nprint(predict_sales_corr)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:24:09.287",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "              Store      Dept     label  ...     Month      Year       Day\nStore      1.000000  0.024004 -0.085195  ...  0.001011  0.002997 -0.000015\nDept       0.024004  1.000000  0.148032  ...  0.000904  0.003738 -0.000678\nlabel     -0.085195  0.148032  1.000000  ...  0.028409 -0.010111 -0.006187\nIsHoliday -0.000548  0.000916  0.012774  ...  0.123376 -0.056746  0.045465\nMonth      0.001011  0.000904  0.028409  ...  1.000000 -0.194288  0.016363\nYear       0.002997  0.003738 -0.010111  ... -0.194288  1.000000  0.005835\nDay       -0.000015 -0.000678 -0.006187  ...  0.016363  0.005835  1.000000\n\n[7 rows x 7 columns]\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d159"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554485353729_-1396467534",
      "id": "20190405-172913_889120288",
      "dateCreated": "2019-04-05 17:29:13.729",
      "dateStarted": "2019-04-05 18:24:09.319",
      "dateFinished": "2019-04-05 18:25:08.040",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql SELECT * FROM predict_sales_corr",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:08.061",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "Store",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Dept",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "label",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "IsHoliday",
                        "visible": true,
                        "width": 172.0,
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Month",
                        "visible": true,
                        "width": 180.0,
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Year",
                        "visible": true,
                        "width": 188.0,
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Day",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "Store": "string",
                      "Dept": "string",
                      "label": "string",
                      "IsHoliday": "string",
                      "Month": "string",
                      "Year": "string",
                      "Day": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Store\tDept\tlabel\tIsHoliday\tMonth\tYear\tDay\n1.0\t0.0240036675181421\t-0.08519499183241988\t-5.479880033994332E-4\t0.0010105857339407882\t0.0029970230136933166\t-1.4756486046415668E-5\n0.0240036675181421\t1.0\t0.1480320600131647\t9.161019048155726E-4\t9.037634838470037E-4\t0.0037378886426251466\t-6.784665993526495E-4\n-0.08519499183241988\t0.1480320600131647\t1.0\t0.01277422037479014\t0.028409438150549356\t-0.010111392497630248\t-0.0061871140911281455\n-5.479880033994332E-4\t9.161019048155726E-4\t0.01277422037479014\t1.0\t0.12337579569430784\t-0.056745716559699254\t0.04546547636663568\n0.0010105857339407882\t9.037634838470037E-4\t0.028409438150549356\t0.12337579569430784\t1.0\t-0.19428822853614153\t0.016362575869818825\n0.0029970230136933166\t0.0037378886426251466\t-0.010111392497630248\t-0.056745716559699254\t-0.19428822853614153\t1.0\t0.005835078032809245\n-1.4756486046415668E-5\t-6.784665993526495E-4\t-0.0061871140911281455\t0.04546547636663568\t0.016362575869818825\t0.005835078032809245\t1.0\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d160",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d161"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554487600434_-1139865834",
      "id": "20190405-180640_1579514520",
      "dateCreated": "2019-04-05 18:06:40.434",
      "dateStarted": "2019-04-05 18:25:08.099",
      "dateFinished": "2019-04-05 18:25:08.198",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Creating the pipeline for transforming and preparing the data to be able to apply an algorithm to it",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:08.199",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCreating the pipeline for transforming and preparing the data to be able to apply an algorithm to it\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487728974_-917345208",
      "id": "20190405-180848_217959839",
      "dateCreated": "2019-04-05 18:08:48.974",
      "dateStarted": "2019-04-05 18:25:08.264",
      "dateFinished": "2019-04-05 18:25:08.266",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\n# The exact pipeline\npipeline \u003d Pipeline(stages\u003d[IsHoliday_stringIdx, vector_assembler])\npipelineFit \u003d pipeline.fit(predict_sales)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:08.363",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d162"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554481856581_395590594",
      "id": "20190405-163056_20028110",
      "dateCreated": "2019-04-05 16:30:56.581",
      "dateStarted": "2019-04-05 18:25:08.394",
      "dateFinished": "2019-04-05 18:25:08.849",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Creating a table to look at the prepared data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:08.894",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "tableHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCreating a table to look at the prepared data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487775025_1565008817",
      "id": "20190405-180935_29578881",
      "dateCreated": "2019-04-05 18:09:35.025",
      "dateStarted": "2019-04-05 18:25:08.927",
      "dateFinished": "2019-04-05 18:25:08.929",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\ndataset \u003d pipelineFit.transform(predict_sales)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.027",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554481898940_-747515910",
      "id": "20190405-163138_2142740437",
      "dateCreated": "2019-04-05 16:31:38.940",
      "dateStarted": "2019-04-05 18:25:09.057",
      "dateFinished": "2019-04-05 18:25:09.089",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Taking a short look at the dataset created",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.156",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eTaking a short look at the dataset created\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487893300_-872431043",
      "id": "20190405-181133_876465869",
      "dateCreated": "2019-04-05 18:11:33.300",
      "dateStarted": "2019-04-05 18:25:09.189",
      "dateFinished": "2019-04-05 18:25:09.191",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\ndataset.take(5)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.289",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[Row(Store\u003d1, Dept\u003d1, Date\u003ddatetime.datetime(2010, 2, 5, 0, 0), label\u003d24924.5, IsHoliday\u003dFalse, Month\u003d2, Year\u003d2010, Day\u003d5, IsHoliday_String\u003d\u0027false\u0027, IsHoliday_Stringh_indexed\u003d0.0, features\u003dDenseVector([0.0, 1.0, 1.0, 2.0, 2010.0, 5.0])), Row(Store\u003d1, Dept\u003d1, Date\u003ddatetime.datetime(2010, 2, 12, 0, 0), label\u003d46039.49, IsHoliday\u003dTrue, Month\u003d2, Year\u003d2010, Day\u003d12, IsHoliday_String\u003d\u0027true\u0027, IsHoliday_Stringh_indexed\u003d1.0, features\u003dDenseVector([1.0, 1.0, 1.0, 2.0, 2010.0, 12.0])), Row(Store\u003d1, Dept\u003d1, Date\u003ddatetime.datetime(2010, 2, 19, 0, 0), label\u003d41595.55, IsHoliday\u003dFalse, Month\u003d2, Year\u003d2010, Day\u003d19, IsHoliday_String\u003d\u0027false\u0027, IsHoliday_Stringh_indexed\u003d0.0, features\u003dDenseVector([0.0, 1.0, 1.0, 2.0, 2010.0, 19.0])), Row(Store\u003d1, Dept\u003d1, Date\u003ddatetime.datetime(2010, 2, 26, 0, 0), label\u003d19403.54, IsHoliday\u003dFalse, Month\u003d2, Year\u003d2010, Day\u003d26, IsHoliday_String\u003d\u0027false\u0027, IsHoliday_Stringh_indexed\u003d0.0, features\u003dDenseVector([0.0, 1.0, 1.0, 2.0, 2010.0, 26.0])), Row(Store\u003d1, Dept\u003d1, Date\u003ddatetime.datetime(2010, 3, 5, 0, 0), label\u003d21827.9, IsHoliday\u003dFalse, Month\u003d3, Year\u003d2010, Day\u003d5, IsHoliday_String\u003d\u0027false\u0027, IsHoliday_Stringh_indexed\u003d0.0, features\u003dDenseVector([0.0, 1.0, 1.0, 3.0, 2010.0, 5.0]))]\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d163"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554483301711_-611878971",
      "id": "20190405-165501_1873312953",
      "dateCreated": "2019-04-05 16:55:01.711",
      "dateStarted": "2019-04-05 18:25:09.319",
      "dateFinished": "2019-04-05 18:25:09.393",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Creating a table that holds the final dataset",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.420",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCreating a table that holds the final dataset\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554487935079_1750270756",
      "id": "20190405-181215_222501025",
      "dateCreated": "2019-04-05 18:12:15.079",
      "dateStarted": "2019-04-05 18:25:09.455",
      "dateFinished": "2019-04-05 18:25:09.457",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\ndataset.createOrReplaceTempView(\"dataset\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.554",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554482066573_539633793",
      "id": "20190405-163426_286941123",
      "dateCreated": "2019-04-05 16:34:26.573",
      "dateStarted": "2019-04-05 18:25:09.585",
      "dateFinished": "2019-04-05 18:25:09.597",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql SELECT Store, Dept, Date, label, IsHoliday_Stringh_indexed, features FROM dataset LIMIT 5",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.684",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "Store",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Dept",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Date",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "Weekly_Sales",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "IsHoliday",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "IsHoliday_String",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "IsHoliday_Stringh_indexed",
                        "visible": true,
                        "width": "*",
                        "sort": {
                          "priority": 0.0,
                          "direction": "desc"
                        },
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      },
                      {
                        "name": "features",
                        "visible": true,
                        "width": "*",
                        "sort": {},
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "Store": "string",
                      "Dept": "string",
                      "Date": "string",
                      "label": "string",
                      "IsHoliday_Stringh_indexed": "string",
                      "features": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Store\tDept\tDate\tlabel\tIsHoliday_Stringh_indexed\tfeatures\n1\t1\t2010-02-05 00:00:00.0\t24924.5\t0.0\t[0.0,1.0,1.0,2.0,2010.0,5.0]\n1\t1\t2010-02-12 00:00:00.0\t46039.49\t1.0\t[1.0,1.0,1.0,2.0,2010.0,12.0]\n1\t1\t2010-02-19 00:00:00.0\t41595.55\t0.0\t[0.0,1.0,1.0,2.0,2010.0,19.0]\n1\t1\t2010-02-26 00:00:00.0\t19403.54\t0.0\t[0.0,1.0,1.0,2.0,2010.0,26.0]\n1\t1\t2010-03-05 00:00:00.0\t21827.9\t0.0\t[0.0,1.0,1.0,3.0,2010.0,5.0]\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d164"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554482138252_-2009041226",
      "id": "20190405-163538_1549237278",
      "dateCreated": "2019-04-05 16:35:38.252",
      "dateStarted": "2019-04-05 18:25:09.715",
      "dateFinished": "2019-04-05 18:25:09.797",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Separates the data into test and train sets",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.815",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eSeparates the data into test and train sets\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554488221565_-1357904133",
      "id": "20190405-181701_1860197885",
      "dateCreated": "2019-04-05 18:17:01.565",
      "dateStarted": "2019-04-05 18:25:09.866",
      "dateFinished": "2019-04-05 18:25:09.868",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\ntrain, test \u003d dataset.randomSplit([0.7, 0.3], seed \u003d 1)\ntrain.createOrReplaceTempView(\"train\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:09.965",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554482148923_-2022514234",
      "id": "20190405-163548_452006369",
      "dateCreated": "2019-04-05 16:35:48.923",
      "dateStarted": "2019-04-05 18:25:09.996",
      "dateFinished": "2019-04-05 18:25:10.013",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Applies a linear regression algorithm to the data and prints out the coefficients and the intercept",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:10.096",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eApplies a linear regression algorithm to the data and prints out the coefficients and the intercept\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554488250307_577704107",
      "id": "20190405-181730_2045308288",
      "dateCreated": "2019-04-05 18:17:30.307",
      "dateStarted": "2019-04-05 18:25:10.126",
      "dateFinished": "2019-04-05 18:25:10.129",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.regression import LinearRegression\nlr \u003d LinearRegression(featuresCol \u003d \"features\", labelCol\u003d\"label\", maxIter\u003d10, regParam\u003d0.3, elasticNetParam\u003d0.8)\nlr_model \u003d lr.fit(train)\nprint(\"Coefficients: \" + str(lr_model.coefficients))\nprint(\"Intercept: \" + str(lr_model.intercept))",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:10.226",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Coefficients: [815.5339867786963,-156.34347957816297,112.1582212949838,186.6722787608908,-149.21576717337015,-19.13994489906285]\nIntercept: 313617.33374814957\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d165",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d166",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d167",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d168",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d169"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554482779796_-1377238373",
      "id": "20190405-164619_704514201",
      "dateCreated": "2019-04-05 16:46:19.796",
      "dateStarted": "2019-04-05 18:25:10.257",
      "dateFinished": "2019-04-05 18:25:35.468",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Because this is linear regression, we try to figure out how low we can get R^2 because it represents a linear function of the data",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:35.477",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eBecause this is linear regression, we try to figure out how low we can get R^2 because it represents a linear function of the data\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554488332645_318710667",
      "id": "20190405-181852_1144928235",
      "dateCreated": "2019-04-05 18:18:52.645",
      "dateStarted": "2019-04-05 18:25:35.540",
      "dateFinished": "2019-04-05 18:25:35.543",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\ntrainingSummary \u003d lr_model.summary\nprint(\"RMSE: %f\" % trainingSummary.rootMeanSquaredError)\nprint(\"r2: %f\" % trainingSummary.r2)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:35.640",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "RMSE: 22376.426069\nr2: 0.030763\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554482798162_-975719752",
      "id": "20190405-164638_1527179977",
      "dateCreated": "2019-04-05 16:46:38.162",
      "dateStarted": "2019-04-05 18:25:35.670",
      "dateFinished": "2019-04-05 18:25:35.678",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### 0.03 is not close to 1, so this model is not the one that should be used",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:25:35.769",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003e0.03 is not close to 1, so this model is not the one that should be used\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554488492596_753468074",
      "id": "20190405-182132_292937808",
      "dateCreated": "2019-04-05 18:21:32.596",
      "dateStarted": "2019-04-05 18:25:35.803",
      "dateFinished": "2019-04-05 18:25:35.806",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ## Making use of Random Forest Regression to predict Weekly Sales",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:45:55.282",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eMaking use of Random Forest Regression to predict Weekly Sales\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554489030230_1252004711",
      "id": "20190405-183030_534645768",
      "dateCreated": "2019-04-05 18:30:30.230",
      "dateStarted": "2019-04-05 18:45:55.282",
      "dateFinished": "2019-04-05 18:45:55.289",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.regression import RandomForestRegressor\nfrom pyspark.ml.evaluation import RegressionEvaluator",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:30:13.707",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554488985375_-397797434",
      "id": "20190405-182945_1921956222",
      "dateCreated": "2019-04-05 18:29:45.376",
      "dateStarted": "2019-04-05 18:30:13.742",
      "dateFinished": "2019-04-05 18:30:13.747",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## The Random Forest model is trained",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:46:34.892",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "tableHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eThe Random Forest model is trained\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554489967200_145637086",
      "id": "20190405-184607_1385315801",
      "dateCreated": "2019-04-05 18:46:07.200",
      "dateStarted": "2019-04-05 18:46:29.361",
      "dateFinished": "2019-04-05 18:46:29.363",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nrfr \u003d RandomForestRegressor(featuresCol\u003d\"features\",labelCol\u003d\"label\")\nrfrModel \u003d rfr.fit(train)\npredictions \u003d rfrModel.transform(test)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:34:04.709",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python",
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d179",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d180",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d181",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d182",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d183",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d184",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d185",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d186",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d187"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554488902147_-1742170352",
      "id": "20190405-182822_1601151487",
      "dateCreated": "2019-04-05 18:28:22.147",
      "dateStarted": "2019-04-05 18:34:04.741",
      "dateFinished": "2019-04-05 18:34:16.315",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## A field is renamed because the Evaluator looks for that name",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:47:16.728",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eA field is renamed because the Evaluator looks for that name\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554489992910_144421896",
      "id": "20190405-184632_1815756349",
      "dateCreated": "2019-04-05 18:46:32.910",
      "dateStarted": "2019-04-05 18:47:16.728",
      "dateFinished": "2019-04-05 18:47:16.730",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredictions \u003d predictions.withColumnRenamed(\"prediction\",\"rawPrediction\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:40:53.983",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554489601904_1056174919",
      "id": "20190405-184001_315490041",
      "dateCreated": "2019-04-05 18:40:01.904",
      "dateStarted": "2019-04-05 18:40:54.020",
      "dateFinished": "2019-04-05 18:40:54.025",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## A peak at the data with the predictions",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:47:37.983",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eA peak at the data with the predictions\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554490042814_-1368360044",
      "id": "20190405-184722_1608216384",
      "dateCreated": "2019-04-05 18:47:22.814",
      "dateStarted": "2019-04-05 18:47:37.984",
      "dateFinished": "2019-04-05 18:47:37.989",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredictions.show()",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:41:43.797",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\n|Store|Dept|               Date|   label|IsHoliday|Month|Year|Day|IsHoliday_String|IsHoliday_Stringh_indexed|            features|     rawPrediction|\n+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\n|    1|   1|2010-03-05 00:00:00| 21827.9|    false|    3|2010|  5|           false|                      0.0|[0.0,1.0,1.0,3.0,...|23799.882740295165|\n|    1|   1|2010-04-16 00:00:00|17596.96|    false|    4|2010| 16|           false|                      0.0|[0.0,1.0,1.0,4.0,...|23824.799986531238|\n|    1|   1|2010-05-28 00:00:00|15580.43|    false|    5|2010| 28|           false|                      0.0|[0.0,1.0,1.0,5.0,...|23891.595827510806|\n|    1|   1|2010-06-11 00:00:00|16637.62|    false|    6|2010| 11|           false|                      0.0|[0.0,1.0,1.0,6.0,...|23863.798215759853|\n|    1|   1|2010-06-25 00:00:00|16328.72|    false|    6|2010| 25|           false|                      0.0|[0.0,1.0,1.0,6.0,...|23755.472482384284|\n|    1|   1|2010-07-23 00:00:00|15360.45|    false|    7|2010| 23|           false|                      0.0|[0.0,1.0,1.0,7.0,...|23824.799986531238|\n|    1|   1|2010-08-20 00:00:00|15740.13|    false|    8|2010| 20|           false|                      0.0|[0.0,1.0,1.0,8.0,...|23824.799986531238|\n|    1|   1|2010-09-17 00:00:00|19354.23|    false|    9|2010| 17|           false|                      0.0|[0.0,1.0,1.0,9.0,...|23795.856416833743|\n|    1|   1|2010-10-15 00:00:00|26978.34|    false|   10|2010| 15|           false|                      0.0|[0.0,1.0,1.0,10.0...|23795.856416833743|\n|    1|   1|2010-10-29 00:00:00|38640.93|    false|   10|2010| 29|           false|                      0.0|[0.0,1.0,1.0,10.0...|23862.652257813315|\n|    1|   1|2010-11-05 00:00:00|34238.88|    false|   11|2010|  5|           false|                      0.0|[0.0,1.0,1.0,11.0...| 23741.83352587054|\n|    1|   1|2010-11-12 00:00:00|19549.39|    false|   11|2010| 12|           false|                      0.0|[0.0,1.0,1.0,11.0...| 23783.60003931296|\n|    1|   1|2010-11-26 00:00:00|18820.29|     true|   11|2010| 26|            true|                      1.0|[1.0,1.0,1.0,11.0...|26252.582445775864|\n|    1|   1|2010-12-03 00:00:00|22517.56|    false|   12|2010|  3|           false|                      0.0|[0.0,1.0,1.0,12.0...|31385.633174215116|\n|    1|   1|2011-01-07 00:00:00|15984.24|    false|    1|2011|  7|           false|                      0.0|[0.0,1.0,1.0,1.0,...|23657.806133942682|\n|    1|   1|2011-02-04 00:00:00|21665.76|    false|    2|2011|  4|           false|                      0.0|[0.0,1.0,1.0,2.0,...|23637.976081786575|\n|    1|   1|2011-03-04 00:00:00|20327.61|    false|    3|2011|  4|           false|                      0.0|[0.0,1.0,1.0,3.0,...|23637.976081786575|\n|    1|   1|2011-04-01 00:00:00|20398.09|    false|    4|2011|  1|           false|                      0.0|[0.0,1.0,1.0,4.0,...|23659.163081912375|\n|    1|   1|2011-08-19 00:00:00|14689.24|    false|    8|2011| 19|           false|                      0.0|[0.0,1.0,1.0,8.0,...|23576.427878960745|\n|    1|   1|2011-10-21 00:00:00| 23351.8|    false|   10|2011| 21|           false|                      0.0|[0.0,1.0,1.0,10.0...|23547.484309263255|\n+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\nonly showing top 20 rows\n\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d193"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554489334732_1943728810",
      "id": "20190405-183534_1961788260",
      "dateCreated": "2019-04-05 18:35:34.732",
      "dateStarted": "2019-04-05 18:41:43.832",
      "dateFinished": "2019-04-05 18:41:45.602",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Analyze the results of the predictions",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:48:50.202",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eAnalyze the results of the predictions\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554490064222_1651761009",
      "id": "20190405-184744_1338584754",
      "dateCreated": "2019-04-05 18:47:44.222",
      "dateStarted": "2019-04-05 18:48:50.207",
      "dateFinished": "2019-04-05 18:48:50.210",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator\nevaluator \u003d BinaryClassificationEvaluator()\nprint(\"Test Area Under ROC: \" + str(evaluator.evaluate(predictions, {evaluator.metricName: \"areaUnderROC\"})))",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:48:54.869",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Test Area Under ROC: 0.5704738452332091\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d198",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d199",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d200",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d201"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554488735769_-1283847535",
      "id": "20190405-182535_360087853",
      "dateCreated": "2019-04-05 18:25:35.769",
      "dateStarted": "2019-04-05 18:48:54.907",
      "dateFinished": "2019-04-05 18:48:57.111",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### In the Test Area Under ROC, the closer it is to 1 the better.  The area needs to be more than 0.5 because otherwise it can be explained by just chance.  \n### In this case, this model performs much better than the linear regression model.  ",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:45:07.297",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eIn the Test Area Under ROC, the closer it is to 1 the better. The area needs to be more than 0.5 because otherwise it can be explained by just chance.\u003c/h3\u003e\n\u003ch3\u003eIn this case, this model performs much better than the linear regression model.\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554489304907_1062041358",
      "id": "20190405-183504_604718623",
      "dateCreated": "2019-04-05 18:35:04.907",
      "dateStarted": "2019-04-05 18:45:07.298",
      "dateFinished": "2019-04-05 18:45:07.301",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ## Checking if a gradient boosted tree regressor helps to improve the accuracy of the prediction",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:51:13.215",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eChecking if a gradient boosted tree regressor helps to improve the accuracy of the prediction\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554489907261_710727589",
      "id": "20190405-184507_949421337",
      "dateCreated": "2019-04-05 18:45:07.261",
      "dateStarted": "2019-04-05 18:51:13.215",
      "dateFinished": "2019-04-05 18:51:13.218",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.regression import GBTRegressor\ngbt \u003d GBTRegressor(featuresCol\u003d\"features\", maxIter\u003d10)\ngbtModel \u003d gbt.fit(train)\npredictions \u003d gbtModel.transform(test)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:52:44.860",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d202",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d203",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d204",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d205",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d206",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d207",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d208",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d209",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d210",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d211",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d212",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d213",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d214",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d215",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d216",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d217",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d218",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d219",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d220",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d221",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d222",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d223",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d224",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d225",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d226",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d227",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d228",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d229",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d230",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d231",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d232",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d233",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d234",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d235",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d236",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d237",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d238",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d239",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d240",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d241",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d242",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d243",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d244",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d245",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d246",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d247",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d248",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d249",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d250",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d251",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d252",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d253",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d254",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d255",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d256",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d257",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d258",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d259",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d260",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d261",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d262",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d263",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d264",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d265",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d266",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d267",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d268",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d269",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d270",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d271",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d272",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d273",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d274",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d275",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d276",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d277",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d278",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d279",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d280",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d281",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d282"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554490273178_-1737662234",
      "id": "20190405-185113_810124444",
      "dateCreated": "2019-04-05 18:51:13.178",
      "dateStarted": "2019-04-05 18:52:44.899",
      "dateFinished": "2019-04-05 18:52:56.662",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### The predictions after applying the GBT",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:10:27.138",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThe predictions after applying the GBT\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554491385767_1515488319",
      "id": "20190405-190945_2133298188",
      "dateCreated": "2019-04-05 19:09:45.767",
      "dateStarted": "2019-04-05 19:10:27.138",
      "dateFinished": "2019-04-05 19:10:27.141",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark predictions.show(5)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:54:54.456",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\n|Store|Dept|               Date|   label|IsHoliday|Month|Year|Day|IsHoliday_String|IsHoliday_Stringh_indexed|            features|     rawPrediction|\n+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\n|    1|   1|2010-03-05 00:00:00| 21827.9|    false|    3|2010|  5|           false|                      0.0|[0.0,1.0,1.0,3.0,...|28177.771300662585|\n|    1|   1|2010-04-16 00:00:00|17596.96|    false|    4|2010| 16|           false|                      0.0|[0.0,1.0,1.0,4.0,...|28893.931536536846|\n|    1|   1|2010-05-28 00:00:00|15580.43|    false|    5|2010| 28|           false|                      0.0|[0.0,1.0,1.0,5.0,...|27094.174124124984|\n|    1|   1|2010-06-11 00:00:00|16637.62|    false|    6|2010| 11|           false|                      0.0|[0.0,1.0,1.0,6.0,...| 26379.32501867436|\n|    1|   1|2010-06-25 00:00:00|16328.72|    false|    6|2010| 25|           false|                      0.0|[0.0,1.0,1.0,6.0,...| 26379.32501867436|\n+-----+----+-------------------+--------+---------+-----+----+---+----------------+-------------------------+--------------------+------------------+\nonly showing top 5 rows\n\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d288"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554490317464_-1110337910",
      "id": "20190405-185157_2128072206",
      "dateCreated": "2019-04-05 18:51:57.464",
      "dateStarted": "2019-04-05 18:54:54.497",
      "dateFinished": "2019-04-05 18:54:56.305",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ## Rename the prediction column to be able to get a rawPrediction column",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:11:09.824",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eRename the prediction column to be able to get a rawPrediction column\u003c/h2\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554491432634_-1522920179",
      "id": "20190405-191032_554311708",
      "dateCreated": "2019-04-05 19:10:32.634",
      "dateStarted": "2019-04-05 19:11:09.825",
      "dateFinished": "2019-04-05 19:11:09.827",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredictions \u003d predictions.withColumnRenamed(\"prediction\",\"rawPrediction\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:53:56.683",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554490384733_1100394105",
      "id": "20190405-185304_1133541238",
      "dateCreated": "2019-04-05 18:53:04.733",
      "dateStarted": "2019-04-05 18:53:56.726",
      "dateFinished": "2019-04-05 18:53:56.731",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### Evaluating the Classification",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:11:41.232",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eEvaluating the Classification\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554491474769_1998179121",
      "id": "20190405-191114_1363282540",
      "dateCreated": "2019-04-05 19:11:14.769",
      "dateStarted": "2019-04-05 19:11:41.232",
      "dateFinished": "2019-04-05 19:11:41.235",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator\nevaluator \u003d BinaryClassificationEvaluator()\nprint(\"Test Area Under ROC: \" + str(evaluator.evaluate(predictions, {evaluator.metricName: \"areaUnderROC\"})))",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:54:17.492",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Test Area Under ROC: 0.6512545013134609\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d284",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d285",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d286",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d287"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554490436683_284993325",
      "id": "20190405-185356_1924611192",
      "dateCreated": "2019-04-05 18:53:56.684",
      "dateStarted": "2019-04-05 18:54:17.531",
      "dateFinished": "2019-04-05 18:54:19.870",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### The gradient boosted tree regressor performs quite a bit better here. If offers approximately an improvement of 14% at 0.65 over the random forest model.",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 18:58:01.936",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThe gradient boosted tree regressor performs quite a bit better here. If offers approximately an improvement of 14% at 0.65 over the random forest model.\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554490457492_-1930939357",
      "id": "20190405-185417_233265597",
      "dateCreated": "2019-04-05 18:54:17.492",
      "dateStarted": "2019-04-05 18:58:01.937",
      "dateFinished": "2019-04-05 18:58:01.943",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.regression import DecisionTreeRegressor\ndt \u003d DecisionTreeRegressor(featuresCol\u003d\"features\")\nmodel \u003d dt.fit(train)\npredictions \u003d model.transform(test)",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:20:12.804",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d309",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d310",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d311",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d312",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d313",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d314",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d315",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d316"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554491587530_1976035172",
      "id": "20190405-191307_17124842",
      "dateCreated": "2019-04-05 19:13:07.530",
      "dateStarted": "2019-04-05 19:20:12.845",
      "dateFinished": "2019-04-05 19:20:20.652",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\npredictions \u003d predictions.withColumnRenamed(\"prediction\",\"rawPrediction\")",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:21:05.987",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1554492062330_1408189430",
      "id": "20190405-192102_944421837",
      "dateCreated": "2019-04-05 19:21:02.330",
      "dateStarted": "2019-04-05 19:21:06.031",
      "dateFinished": "2019-04-05 19:21:06.036",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator\nevaluator \u003d BinaryClassificationEvaluator()\nprint(\"Test Area Under ROC: \" + str(evaluator.evaluate(predictions, {evaluator.metricName: \"areaUnderROC\"})))",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:21:09.026",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Test Area Under ROC: 0.6639662381045907\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d317",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d318",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d319",
            "http://thankgod.fritz.box:4040/jobs/job?id\u003d320"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1554491942927_903105902",
      "id": "20190405-191902_1461763841",
      "dateCreated": "2019-04-05 19:19:02.927",
      "dateStarted": "2019-04-05 19:21:09.070",
      "dateFinished": "2019-04-05 19:21:11.093",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md ### The Decision Tree Regressor offers a slight improvement over gradient boosted tree regressor. It offers a 2% improvement in accuracy.",
      "user": "anonymous",
      "dateUpdated": "2019-04-05 19:23:16.316",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eThe Decision Tree Regressor offers a slight improvement over gradient boosted tree regressor. It offers a 2% improvement in accuracy.\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1554492043139_-725675736",
      "id": "20190405-192043_1705433590",
      "dateCreated": "2019-04-05 19:20:43.139",
      "dateStarted": "2019-04-05 19:23:16.316",
      "dateFinished": "2019-04-05 19:23:16.319",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "predict sales",
  "id": "2E6ZM3ZF2",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": [],
    "python:shared_process": [],
    "sh:shared_process": [],
    "spark:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false
  },
  "info": {}
}